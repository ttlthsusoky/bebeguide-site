# ============================================================================
# Cloudflare Workers ë°°í¬ ì„¤ì • íŒŒì¼
# ============================================================================
# ì‚¬ìš©ë²•:
# 1. Cloudflare ê³„ì • ìƒì„± (https://dash.cloudflare.com)
# 2. npm install -g wrangler ì„¤ì¹˜
# 3. wrangler login ìœ¼ë¡œ ë¡œê·¸ì¸
# 4. wrangler deploy ë¡œ ë°°í¬
# ============================================================================

name = "bebeguide-api"
main = "bebeguide-worker.js"
compatibility_date = "2024-01-01"

# Workers ë¼ìš°íŠ¸ ì„¤ì •
# ë°°í¬ í›„ https://bebeguide-api.YOUR-SUBDOMAIN.workers.dev í˜•íƒœë¡œ ì ‘ê·¼ ê°€ëŠ¥
# ë˜ëŠ” Custom Domain ì—°ê²° ê°€ëŠ¥

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ë³´ì•ˆìƒ ì‹¤ì œ ê°’ì€ Cloudflare Dashboardì—ì„œ ì„¤ì •)
# Dashboard > Workers > bebeguide-api > Settings > Variables ì—ì„œ ì„¤ì •:
#
# SLACK_WEBHOOK_URL (ì„ íƒ):
#   - Slack Incoming Webhook URL
#   - ì˜ˆ: https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX
#
# SENDER_EMAIL (í•„ìˆ˜):
#   - ë°œì‹ ì ì´ë©”ì¼ ì£¼ì†Œ
#   - ì˜ˆ: noreply@bebe-guide.com
#   - MailChannelsëŠ” ê²€ì¦ëœ ë„ë©”ì¸ì—ì„œë§Œ ë°œì†¡ ê°€ëŠ¥
#
# SENDER_NAME (ì„ íƒ):
#   - ë°œì‹ ì ì´ë¦„
#   - ê¸°ë³¸ê°’: ë² ë² ê°€ì´ë“œ

# KV ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì„¤ì •
# ë¦¬ë§ˆì¸ë” êµ¬ë…ì ì €ì¥ìš© KV
#
# ğŸš€ ë°°í¬ ì „ í•„ìˆ˜: KV ìƒì„± í›„ ì•„ë˜ ID êµì²´
#
# PowerShellì—ì„œ ì‹¤í–‰:
#   cd C:\Users\hee\website\api
#   wrangler kv:namespace create "REMINDER_USERS"
#
# ì¶œë ¥ëœ idì™€ preview_idë¥¼ ì•„ë˜ì— ì…ë ¥:
kv_namespaces = [
  { binding = "REMINDER_USERS", id = "8bfc983ed4f64b678b39c684afc614bb" }
]

# ë¡œì»¬ ê°œë°œ ì‹œ í…ŒìŠ¤íŠ¸ìš© ë³€ìˆ˜ (ì‹¤ì œ ë°°í¬ ì‹œì—” Dashboardì—ì„œ ì„¤ì •)
[vars]
SENDER_EMAIL = "noreply@bebe-guide.com"
SENDER_NAME = "ë² ë² ê°€ì´ë“œ"

# ë¡œì»¬ ê°œë°œ ì„œë²„ ì„¤ì •
[dev]
port = 8787

# í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
[env.production]
name = "bebeguide-api"
# route = "api.bebe-guide.com/*"  # Custom Domain ì‚¬ìš© ì‹œ ì£¼ì„ í•´ì œ

# CORS ì„¤ì • (ì´ë¯¸ Worker ì½”ë“œì— í¬í•¨)
# ì¶”ê°€ ë³´ì•ˆ í—¤ë”ê°€ í•„ìš”í•˜ë©´ ì—¬ê¸°ì„œ ì„¤ì • ê°€ëŠ¥
